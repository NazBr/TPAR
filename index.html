<html>
  <head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  </head>
  <body>
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
            <!--
Exercice 1 

      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-box position="0 0.5 -5" rotation="0 45 0" color="#EF2D5E"></a-box>
      <a-box position="1 0.5 -3" rotation="0 45 0" color="#FFC65D"></a-box>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-entity camera look-controls position="0 3 5"></a-entity>
    
      -->

      <a-marker preset="hiro">    
        <a-box id="box"
               class="clickable"
               position="0 0.5 0"
               material="opacity: 0.5; color: red; transparent: true"
               animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">
        </a-box>
      </a-marker>
      <a-entity camera>
        <a-cursor 
          fuse="true" 
          fuse-timeout="500" 
          material="color: white; shader: flat">
        </a-cursor>
      </a-entity>
    </a-scene>

    <script>
      const box = document.querySelector('#box');

      box.addEventListener('click', () => {
        // Change de couleur aléatoire
        const randomColor = '#'+Math.floor(Math.random()*16777215).toString(16);
        box.setAttribute('material', 'color', randomColor);

        // Change vitesse de rotation
        box.setAttribute('animation__spin', {
          property: 'rotation',
          to: '0 360 0',
          loop: true,
          dur: 2000   // plus rapide
        });

        // Animation d’échelle (zoom puis retour)
        box.setAttribute('animation__scale', {
          property: 'scale',
          to: '1.5 1.5 1.5',
          dur: 500,
          dir: 'alternate',
          loop: 2
        });
      });
    </script>
    </a-scene>
  </body>
</html>
